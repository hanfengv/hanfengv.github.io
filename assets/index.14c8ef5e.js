import{p as e,a as s,r as a,b as t,o as i,c,d as l,F as n,e as r,u as p,w as d,v as o,l as u,t as k,f as m,g as h}from"./vendor.f20fec0b.js";const v=m();e("data-v-7203d41a");const b={class:"print"},f={class:"toolbar"},C={class:"tool"},y={class:"file-btn btn btn-success"},g=l("label",{class:"file-btn-label",for:"ipt_file",title:"v8"},"选择图片文件夹",-1),w={class:"tool print-list"},A={class:"pics"},x={class:"pic-name"},R=l("div",{class:"mao"},[l("img",{class:"mao-img",src:"/assets/mao.d7303fee.jpg",alt:""})],-1);s();const L={expose:[],setup(e){const s=a({picture:[],curChecked:[],printArr:[],printed:[],printing:!1,placeArr:0}),m=e=>{s.printArr=u.exports.chunk(s.curChecked,2),s.printing=!0,setTimeout((()=>{window.print(),s.printing=!1;let e=s.curChecked.map((e=>e.name));s.printed.push(...e),s.curChecked.forEach((e=>e.isChecked=!1)),s.curChecked=[],s.printArr=[]}),500)},h=async e=>{let a=[...e.target.files];a=u.exports.sortBy(a,(e=>e.name));const t=4-a.length%4;s.placeArr=new Array(t);const i=[];for(const s of a){const e=await L(s);i.push(e)}s.picture=i},L=async e=>{const{name:s,size:a,type:t,webkitRelativePath:i}=e;return new Promise(((c,l)=>{var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(()=>{const e=n.result;c({dataURL:e,name:s,size:a,type:t,webkitRelativePath:i,isChecked:!1})}),!1)}))};return(e,a)=>{const u=t("page");return i(),c(n,null,[l("div",null,[(i(!0),c(n,null,r(p(s).printArr,((e,s)=>(i(),c(u,{size:"A4",key:s,style:{"page-break-after":"always"}},{default:v((()=>[l("div",b,[(i(!0),c(n,null,r(e,(e=>(i(),c("div",{key:e.name,class:"print-item"},[l("img",{class:"print-pic",src:e.dataURL},null,8,["src"])])))),128))])])),_:2},1024)))),128))]),d(l("div",null,[l("div",f,[l("div",C,[l("button",y,[g,l("input",{id:"ipt_file",class:"input-file",type:"file",onChange:h,multiple:"",webkitdirectory:""},null,32)])]),l("ol",w,[(i(!0),c(n,null,r(p(s).curChecked,(e=>(i(),c("li",{key:e},k(e.name),1)))),128))]),l("div",{class:"tool"},[l("button",{onClick:m,class:"btn btn-primary"},"打印")])]),l("div",A,[(i(!0),c(n,null,r(p(s).picture,(e=>(i(),c("div",{class:["pic-box",{checked:e.isChecked}],onClick:a=>(e=>{if(e.isChecked=!e.isChecked,e.isChecked)s.curChecked.push(e);else{let a=s.curChecked.findIndex((s=>s.name===e.name));a>-1&&s.curChecked.splice(a,1)}})(e),key:e.name},[l("img",{class:"pic",src:e.dataURL},null,8,["src"]),l("p",x,k(e.name),1),l("div",{class:{mask:p(s).printed.includes(e.name)}},null,2)],10,["onClick"])))),128)),(i(!0),c(n,null,r(p(s).placeArr,((e,s)=>(i(),c("div",{class:"pic-box pic-box-place",key:s})))),128))]),R],512),[[o,!p(s).printing]])],64)}},__scopeId:"data-v-7203d41a"};h({expose:[],setup:e=>(e,s)=>(i(),c(L))}).mount("#app");
