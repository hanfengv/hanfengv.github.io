import{p as e,a as s,r as a,b as t,o as i,c,d as n,F as l,e as r,u as d,w as p,v as o,l as u,t as k,f as m,g as h}from"./vendor.f20fec0b.js";const f=m();e("data-v-f29a9612");const v={class:"print"},C={class:"toolbar"},b={class:"tool"},g={class:"file-btn btn btn-success"},y=n("label",{class:"file-btn-label",for:"ipt_file"},"选择图片文件夹",-1),w={class:"tool print-list"},R={class:"pics"},x={class:"pic-name"},A=n("div",{class:"mao"},[n("img",{class:"mao-img",src:"/assets/mao.d7303fee.jpg",alt:""})],-1);s();const L={expose:[],setup(e){const s=a({picture:[],curChecked:[],printArr:[],printed:[],printing:!1}),m=e=>{s.printArr=u.exports.chunk(s.curChecked,2),s.printing=!0,setTimeout((()=>{window.print(),s.printing=!1;let e=s.curChecked.map((e=>e.name));s.printed.push(...e),s.curChecked.forEach((e=>e.isChecked=!1)),s.curChecked=[]}),500)},h=async e=>{const a=[...e.target.files],t=[];for(const s of a){const e=await L(s);t.push(e)}s.picture=t},L=async e=>{const{name:s,size:a,type:t,webkitRelativePath:i}=e;return new Promise(((c,n)=>{var l=new FileReader;l.readAsDataURL(e),l.addEventListener("load",(()=>{const e=l.result;c({dataURL:e,name:s,size:a,type:t,webkitRelativePath:i,isChecked:!1})}),!1)}))};return(e,a)=>{const u=t("page");return i(),c(l,null,[n("div",null,[(i(!0),c(l,null,r(d(s).printArr,((e,s)=>(i(),c(u,{size:"A4",key:s,style:{"page-break-after":"always"}},{default:f((()=>[n("div",v,[(i(!0),c(l,null,r(e,(e=>(i(),c("div",{key:e.name,class:"print-item"},[n("img",{class:"print-pic",src:e.dataURL},null,8,["src"])])))),128))])])),_:2},1024)))),128))]),p(n("div",null,[n("div",C,[n("div",b,[n("button",g,[y,n("input",{id:"ipt_file",class:"input-file",type:"file",onChange:h,multiple:"",webkitdirectory:""},null,32)])]),n("ol",w,[(i(!0),c(l,null,r(d(s).curChecked,(e=>(i(),c("li",{key:e},k(e.name),1)))),128))]),n("div",{class:"tool"},[n("button",{onClick:m,class:"btn btn-primary"},"打印")])]),n("div",R,[(i(!0),c(l,null,r(d(s).picture,(e=>(i(),c("div",{class:["pic-box",{checked:e.isChecked}],onClick:a=>(e=>{if(e.isChecked=!e.isChecked,e.isChecked)s.curChecked.push(e);else{let a=s.curChecked.findIndex((s=>s.name===e.name));a>-1&&s.curChecked.splice(a,1)}})(e),key:e.name},[n("img",{class:"pic",src:e.dataURL},null,8,["src"]),n("p",x,k(e.name),1),n("div",{class:{mask:d(s).printed.includes(e.name)}},null,2)],10,["onClick"])))),128))]),A],512),[[o,!d(s).printing]])],64)}},__scopeId:"data-v-f29a9612"};h({expose:[],setup:e=>(e,s)=>(i(),c(L))}).mount("#app");
